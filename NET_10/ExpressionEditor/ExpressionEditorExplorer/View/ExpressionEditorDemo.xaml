<UserControl x:Class="ExpressionEditorExplorer.ExpressionEditorDemo"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ExpressionEditorExplorer"
             xmlns:c1="http://schemas.componentone.com/winfx/2006/xaml"          
             mc:Ignorable="d" 
             d:DesignHeight="450"
             d:DesignWidth="800">
    
    <UserControl.Resources>
        <c1:C1ExpressionEngine x:Key="currentEngine" Expression="[Age] + Len([FirstName]) + Len([LastName])"/>
    </UserControl.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="520"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" MaxWidth="600" Margin="10">
            <TextBlock Text="Set an expression for the 'Calculated Exp.' column in FlexGrid using C1ExpressionEditor, column options, or by editing a specific cell." TextWrapping="Wrap"/>
            <c1:C1ExpressionEditor x:Name="expressionEditor" MaxHeight="200" ShowErrorBox="True" Engine="{StaticResource currentEngine}" />
            <c1:C1ExpressionEditorPanel MaxHeight="300" Margin="0 5 0 0" Editor="{Binding ElementName=expressionEditor}"/>
        </StackPanel>

        <c1:FlexGrid x:Name="grid" Margin="10" AutoGenerateColumns="False" Grid.Column="1" MinColumnWidth="100" MinRowHeight="50">
            <c1:FlexGrid.Columns>
                <c1:GridColumn Binding="FirstName" Header="First Name"/>
                <c1:GridColumn Binding="LastName" Header="Last Name"/>
                <c1:GridColumn Binding="Age" Header="Age"/>
                <c1:GridExpressionColumn Binding="OrderTotal" EvaluationMode="CellEvaluation" Header="Calculated Exp." Engine="{StaticResource currentEngine}" 
                                         Background="#10006400" Foreground="DarkGreen" HeaderBackground="#C8006400" HeaderForeground="White"/>
                <c1:GridColumn Binding="OrderCount" Header="Order Count"/>
                <c1:GridDateTimeColumn Binding="LastOrderDate" Mode="Date" Header="Last Order Date"/>
                <c1:GridColumn Binding="OrderTotal" Header="Order Total"/>
                <c1:GridColumn Binding="SpendingLimit" Format="C" Header="Spending Limit"/>
            </c1:FlexGrid.Columns>
        </c1:FlexGrid>
    </Grid>
</UserControl>
